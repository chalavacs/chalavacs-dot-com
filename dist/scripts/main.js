function onError(e){}function onFileLoad(e){}function onFileProgress(e){}function onProgress(e){console.log("loading...");var a=Math.round(100*e.loaded);$progress.text(a+"%"),$progressbar.css({width:a+"%"})}function onComplete(e){dataActiveOff($preloader),tl.play()}function dataActiveOff(e){e.attr("data-active","off")}function dataActiveOn(e){e.attr("data-active","on")}function animation(e){e.attr("data-active","on")}function isMobile(){var e=window.matchMedia("only screen and (max-width: 48em)");return e.matches?!0:void 0}var queue=new createjs.LoadQueue,$preloader=$(".preloader"),$progress=$(".preloader__progress"),$progressbar=$(".preloader__progressbar");queue.on("complete",onComplete),queue.on("error",onError),queue.on("fileload",onFileLoad),queue.on("fileprogress",onFileProgress),queue.on("progress",onProgress),queue.loadManifest([{id:"1",src:"http://upload.wikimedia.org/wikipedia/commons/a/a2/Polycyclic_Aromatic_Hydrocarbons_In_Space.jpg"},{id:"2",src:"http://static3.businessinsider.com/image/522746c56bb3f72e2a316155/photo-airbus-proves-its-huge-new-warplane-doesnt-need-a-paved-runway.jpg"},{id:"3",src:"http://www.chem.gla.ac.uk/staff/wynne/i/2005/TRVS/TRVS-group-photo-huge.jpg"}]);var preloaderTimeline=new TimelineMax({repeat:!1});preloaderTimeline.add("prepareLoader").staggerFromTo(".svg__preloader circle",1.5,{scale:3,opacity:0,visibility:"hidden"},{scale:1,opacity:1,visibility:"visible",ease:Back.easeOut},.25).add("l12_1","+=0.4").to(".loader__path-top",.75,{repeat:3,attr:{cx:50,cy:50},ease:Power4.easeOut},"l12_1").to(".loader__path-left",.75,{repeat:3,attr:{cx:27,cy:5},ease:Power4.easeOut},"l12_1").to(".loader__path-right",.75,{repeat:3,attr:{cx:5,cy:50},ease:Power4.easeOut},"l12_1");var $pageBlock=$(".page-block"),waypoints=$pageBlock.waypoint(function(e){$(this.element).addClass("in-view")},{offset:"75%"}),navModule=$(".nav__module--animate"),animateFadeUp=$(".animate__fadeUp"),innerBorder1=$(".home__innerBorder1"),innerBorder2=$(".home__innerBorder2"),innerBorder3=$(".home__innerBorder3"),innerBorder4=$(".home__innerBorder4"),heroInner=$(".hero__inner"),heroHeading=$(".hero__heading"),heroSubheading=$(".hero__subheading"),heroSubtext=$(".hero__subtext"),tl=new TimelineLite({repeat:0,yoyo:!1,paused:!0,delay:1});tl.fromTo(innerBorder1,.25,{height:0},{height:"100%",autoAlpha:1}).fromTo(innerBorder2,.25,{width:0},{width:"100%",autoAlpha:1}).fromTo(innerBorder3,.25,{height:0},{height:"100%",autoAlpha:1}).fromTo(innerBorder4,.25,{width:0},{width:"100%",autoAlpha:1}).add("homeAll").to(".home__headshot",.3,{x:"-30",autoAlpha:1,ease:Power1.easeOut},"homeAll").staggerFromTo(navModule,.3,{y:"-48"},{y:"0",autoAlpha:1,ease:Power1.easeOut},.1).staggerFromTo(animateFadeUp,.4,{y:"48"},{y:"0",autoAlpha:1,ease:Power1.easeOut},.1),tl.to(".scrollLink",.6,{y:-100,autoAlpha:1,ease:Power1.easeOut},"homeAll"),$(function(){dataActiveOn($preloader),isMobile(),$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html, body").animate({scrollTop:e.offset().top},1e3),!1}}),$("form").unbind("submit").bind("submit",function(){var e=$(this);$.ajax({type:e.attr("method"),url:e.attr("action"),dataType:e.attr("datatype"),data:e.serialize()}).done(function(a){a.success&&(e[0].reset(),e.find("button[type=submit]").prop("disabled",!0).html("Message Sent"))}).fail(function(e){}),event.preventDefault()})}),$(document).mousemove(function(e){isMobile()||($([innerBorder1,innerBorder2,innerBorder3,innerBorder4]).each(function(){$(this).parallax(-30,e)}),$(heroInner).parallax(90,e))}),$.fn.parallax=function(e,a){$el=$(this),TweenLite.to($el,.2,{x:-((a.clientX-window.innerWidth/2)/e),y:-((a.clientY-window.innerHeight/2)/e)})};